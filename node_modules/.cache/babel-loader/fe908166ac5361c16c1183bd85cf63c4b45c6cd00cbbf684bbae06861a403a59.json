{"ast":null,"code":"import axios from 'axios';\n\n// DjangoのログインAPIエンドポイントを指定\nconst LOGIN_URL = 'http://localhost:8000/api/login/'; // DjangoのAPIエンドポイント\n\nexport const login = async (email, password) => {\n  try {\n    const response = await axios.post(LOGIN_URL, {\n      email: email,\n      password: password\n    });\n    return {\n      token: response.data.token,\n      // 例：トークンが返される場合\n      message: 'ログイン成功'\n    };\n  } catch (error) {\n    if (axios.isAxiosError(error)) {\n      var _error$response, _error$response$data;\n      return {\n        messageErr: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || 'ログイン失敗'\n      };\n    } else {\n      // それ以外のエラー\n      return {\n        messageErr: '予期しないエラーが発生しました'\n      };\n    }\n  }\n};","map":{"version":3,"names":["axios","LOGIN_URL","login","email","password","response","post","token","data","message","error","isAxiosError","_error$response","_error$response$data","messageErr","detail"],"sources":["/usr/src/app/health-app/src/API/api-back.ts"],"sourcesContent":["import axios, { AxiosError } from 'axios';\n\n\n// DjangoのログインAPIエンドポイントを指定\nconst LOGIN_URL = 'http://localhost:8000/api/login/'; // DjangoのAPIエンドポイント\n\ninterface LoginResponse {\n    token?: string;\n    message?: string;\n    messageErr?: string;\n  }\n\nexport const login = async (email: string, password: string): Promise<LoginResponse> => {\n\n  try {\n    const response = await axios.post(LOGIN_URL, {\n      email: email,\n      password: password\n    });\n\n    return {\n      token: response.data.token, // 例：トークンが返される場合\n      message: 'ログイン成功'\n    };\n  } catch (error: unknown) {\n    if (axios.isAxiosError(error)) {\n        return {\n          messageErr: error.response?.data?.detail || 'ログイン失敗'\n        };\n      } else {\n        // それ以外のエラー\n        return {\n          messageErr: '予期しないエラーが発生しました'\n        };\n      }\n  }\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAsB,OAAO;;AAGzC;AACA,MAAMC,SAAS,GAAG,kCAAkC,CAAC,CAAC;;AAQtD,OAAO,MAAMC,KAAK,GAAG,MAAAA,CAAOC,KAAa,EAAEC,QAAgB,KAA6B;EAEtF,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,IAAI,CAACL,SAAS,EAAE;MAC3CE,KAAK,EAAEA,KAAK;MACZC,QAAQ,EAAEA;IACZ,CAAC,CAAC;IAEF,OAAO;MACLG,KAAK,EAAEF,QAAQ,CAACG,IAAI,CAACD,KAAK;MAAE;MAC5BE,OAAO,EAAE;IACX,CAAC;EACH,CAAC,CAAC,OAAOC,KAAc,EAAE;IACvB,IAAIV,KAAK,CAACW,YAAY,CAACD,KAAK,CAAC,EAAE;MAAA,IAAAE,eAAA,EAAAC,oBAAA;MAC3B,OAAO;QACLC,UAAU,EAAE,EAAAF,eAAA,GAAAF,KAAK,CAACL,QAAQ,cAAAO,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBJ,IAAI,cAAAK,oBAAA,uBAApBA,oBAAA,CAAsBE,MAAM,KAAI;MAC9C,CAAC;IACH,CAAC,MAAM;MACL;MACA,OAAO;QACLD,UAAU,EAAE;MACd,CAAC;IACH;EACJ;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}